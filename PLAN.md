# è©³ç´°ç‰ˆå®Ÿè£…è¨ˆç”»

## 2025å¹´7æœˆ30æ—¥æ™‚ç‚¹ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

### âœ… å®Œäº†ã—ãŸå®Ÿè£…
- **youtube-transcript-api 1.2.1å¯¾å¿œ**: å¤ã„APIä»•æ§˜ `YouTubeTranscriptApi.list_transcripts()` ã‹ã‚‰æ–°ã—ã„ä»•æ§˜ `ytt_api = YouTubeTranscriptApi(); ytt_api.list()` ã«æ›´æ–°
- **è©³ç´°ãƒ¢ãƒ¼ãƒ‰æ©Ÿèƒ½**: `--detail` ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆæ©Ÿèƒ½ã®å®Ÿè£…
- **ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ**: `to_tube_summary_detail.bat` ã®ä½œæˆ
- **HTMLå‡ºåŠ›æ‹¡å¼µ**: è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨ã€Œè©³ç´°ã«é£›ã¶ã€ãƒªãƒ³ã‚¯ã®å®Ÿè£…

### ğŸ”§ æŠ€è¡“çš„ä¿®æ­£äº‹é …
- `youtube_transcript_downloader.py:257`: APIã‚³ãƒ¼ãƒ«æ–¹æ³•ã‚’æ–°ã—ã„ä»•æ§˜ã«å¯¾å¿œ
- å‹•ä½œç¢ºèªæ¸ˆã¿: å­—å¹•å–å¾—ã€è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã€HTMLå‡ºåŠ›ãŒæ­£å¸¸ã«å‹•ä½œ

## ç¾çŠ¶ã®ç†è§£

### æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ**: `to_tube_summary.bat` â†’ `youtube_transcript_downloader.py`
- **è©³ç´°ç‰ˆã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ**: `to_tube_summary_detail.bat` â†’ `youtube_transcript_downloader.py --detail`
- **å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
  1. YouTubeURLã‹ã‚‰videoIDã‚’å–å¾—
  2. å­—å¹•ã‚’VTTãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆyoutube-transcript-api 1.2.1ä½¿ç”¨ï¼‰
  3. `ret_youyaku_html.py`ã§è¦ç´„HTMLã‚’ç”Ÿæˆ
  4. è©³ç´°ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã€è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆã‚‚ç”Ÿæˆ
  5. ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãƒœãƒ¼ãƒ‰ç”»åƒã‚’ã‚¹ãƒ©ã‚¤ã‚¹ã—ã¦è¡¨ç¤º
  6. HTMLã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ã

### ç¾åœ¨ã®é–¢æ•°æ§‹æˆ
- `youtube_transcript_downloader.py:process_video()`: ãƒ¡ã‚¤ãƒ³å‡¦ç†
- `ret_youyaku_html.py:do()`: è¦ç´„HTMLç”Ÿæˆï¼ˆè©³ç´°ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œæ¸ˆã¿ï¼‰
- `ret_youyaku_html.py:yoyaku_gemini()`: Gemini APIã§è¦ç´„ç”Ÿæˆ
- `ret_youyaku_html.py:generate_detail_text()`: è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ

## å®Ÿè£…ã•ã‚ŒãŸæ©Ÿèƒ½ã®è©³ç´°

### è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆæ©Ÿèƒ½
- `ret_youyaku_html.py`ã«`generate_detail_text()`é–¢æ•°ã‚’å®Ÿè£…
- gemini-2.0-flashãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¦è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆ
- å­—å¹•ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´å½¢ã—ã€èª­ã¿ã‚„ã™ã„æ—¥æœ¬èªã®æ–‡ç« ã«å¤‰æ›

### HTMLå‡ºåŠ›ã®æ‹¡å¼µ
- `txt_to_html()`é–¢æ•°ã§è©³ç´°ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
- HTMLã®ä¸Šéƒ¨ã«ã€Œè©³ç´°ã«é£›ã¶ã€ãƒªãƒ³ã‚¯ã‚’è¿½åŠ 
- æ—¢å­˜ã®è¦ç´„ã®å¾Œã«è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 
- è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯Markdownã‹ã‚‰HTMLã«å¤‰æ›

### æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
- `to_tube_summary_detail.bat`ã‚’ä½œæˆ
- `youtube_transcript_downloader.py`ã§`--detail`ãƒ•ãƒ©ã‚°ã‚’å‡¦ç†
- è©³ç´°ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã®ã¿è©³ç´°ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆã‚’å®Ÿè¡Œ

## ä¾å­˜é–¢ä¿‚ã¨APIãƒãƒ¼ã‚¸ãƒ§ãƒ³

### é‡è¦ãªæŠ€è¡“çš„æ›´æ–°
- **youtube-transcript-api**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.2.1ã«å¯¾å¿œæ¸ˆã¿
  - æ—§API: `YouTubeTranscriptApi.list_transcripts(video_id)`
  - æ–°API: `ytt_api = YouTubeTranscriptApi(); ytt_api.list(video_id)`
- **Geminiãƒ¢ãƒ‡ãƒ«**: gemini-2.0-flashã‚’ä½¿ç”¨
- **Pythonè¦ä»¶**: 3.8ä»¥ä¸Š

### é–¢æ•°ã®å…±æœ‰
- `configure_gemini()`é–¢æ•°ã‚’å…±æœ‰
- `read_vtt()`é–¢æ•°ã‚’å…±æœ‰
- HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆéƒ¨åˆ†ã‚’å…±æœ‰

## ä»Šå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹è€ƒæ…®äº‹é …

### APIãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- youtube-transcript-api ã®æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒªãƒªãƒ¼ã‚¹æ™‚ã®å¯¾å¿œæ–¹æ³•
- Gemini APIã®ä»•æ§˜å¤‰æ›´ã¸ã®å¯¾å¿œ
- äº’æ›æ€§ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã®åŸå‰‡
- æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã¯æœ€å°é™ã«æŠ‘åˆ¶
- æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã¯æ©Ÿèƒ½è¿½åŠ ã®ã¿
- å¾Œæ–¹äº’æ›æ€§ã‚’ç¶­æŒ